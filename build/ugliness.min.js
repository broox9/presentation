/*! Brookes_Presentation - v0.2.0 - 2014-11-21 */var presApp=angular.module("presApp",["ngRoute","firebase","appControllers"]);presApp.config(function(a){var b=["partials/contents.html","partials/valueprop.html","partials/storyboard.html","partials/nfb.html","partials/targetmarket.html","partials/5forces.html","partials/lean.html","partials/layout.html","partials/roadmap.html","partials/buddy.html"];a.when("/slide/:id",{templateUrl:function(a){var c=parseInt(a.id,10)-1;return b[c]?b[c]:"partials/contents.html"},controller:"MainCtrl"}).otherwise({redirectTo:"/slide/1"})});var appControllers=angular.module("appControllers",[]);appControllers.controller("MainCtrl",["$scope","$route","$routeParams",function(a,b,c){var d=new Firebase("https://brookespresi.firebaseio.com/");d.child("currentCommand").remove(),d.on("child_added",function(b){var c=b.val();switch(console.log("COMMAND",c.command),d.child("currentCommand").remove(),c.command){case"next":d.off("child_added"),a.nextSlide();break;case"prev":d.off("child_added"),a.prevSlide();break;case"up":a.$broadcast("changeCell",38);break;case"down":a.$broadcast("changeCell",40);break;case"esc":d.off("child_added"),a.resetPresentation();break;case"t":d.off("child_added"),a.toggleMenu();break;case"space":a.toggleFullScreen()}}),a.nextSlide=function(){var a=parseInt(c.id,10)+1;b.updateParams({id:a}),b.reload()},a.prevSlide=function(){var a=parseInt(c.id,10)-1;b.updateParams({id:a}),b.reload()},a.toggleMenu=function(){$("footer").toggleClass("show")},a.resetPresentation=function(){b.updateParams({id:1}),b.reload()},a.toggleFullScreen=function(){console.log("space bar");var a=document.querySelector("#app-content");console.log("App",a),a.webkitRequestFullscreen()},a.keyCommand=function(b){switch(console.log("keyCode",b.keyCode),b.keyCode){case 27:a.resetPresentation();break;case 84:a.toggleMenu();break;case 37:a.prevSlide();break;case 39:a.nextSlide();break;case 38:case 40:a.$broadcast("changeCell",b.keyCode);break;case 32:a.toggleFullScreen()}}}]),appControllers.controller("StoryboardCtrl",function(a){container=document.querySelector("#cell-container");var b=container.querySelectorAll(".cell"),c=0,d=function(){var a=c+1;return b[a]?a:c},e=function(){var a=c-1;return c>0?a:0};a.$on("changeCell",function(a,f){var g;40===f?g=d():38===f&&(g=e()),b[g].scrollIntoView(!0),c=g})});